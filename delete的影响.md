https://www.modb.pro/db/620389

# 顺序读写与随机读写

[顺序读写和随机读写区别和实现_EmineWang的博客-CSDN博客](https://blog.csdn.net/a718515028/article/details/121091699)

1.data free 的数据会被重新覆盖利用。如果删除的顺序是连续的，其实不会有影响。
重要的不能有碎片。
而连续删除不会有碎片。

[MySQL：数据库的日志顺序读写以及数据文件随机读写的原理_数据库文件是顺序读写的吗_OceanStar的学习笔记的博客-CSDN博客](https://blog.csdn.net/zhizhengguan/article/details/122063440)

https://zhuanlan.zhihu.com/p/377056039

如何系统学习？

[【Kafka】如何保证百万级写入速度(顺序写、页缓存)_如何保证数据的顺序写入_云川之下的博客-CSDN博客](https://blog.csdn.net/m0_45406092/article/details/119659133)

Mysql实际上的数据页是逻辑的。底层到磁盘还是随机写。

那么他的页的顺序或者说编号是怎么处理的？

[一看就懂的：MySQL数据页以及页分裂机制 - 赐我白日梦 - 博客园](https://www.cnblogs.com/zhuchangwu/p/14041410.html)

MySQL 都是去维护一颗 B+ 树，说白了，你建立多少个索引，MySQL 就会帮你维护多少的B+树（这下是不是也突然想明白了为什么索引不能建立太多了？以前就知道不能建立太多索引，因为索引也会占用空间，实际上这就是根本原因）

[InnoDB原理篇：聊聊数据页变成索引这件事-innodb 数据页](https://www.51cto.com/article/702315.html)

索引是主键-页号这种形式。（虽然用的都是数据页）

[MySQL索引页结构 - 掘金](https://juejin.cn/post/7068917155604987941)



当按照主键顺序删除记录时，对B+树索引可能会造成以下影响：

1. 顺序删除可以减少B+树的维护操作：由于按照主键顺序删除记录，删除操作是有序的，这样可以减少B+树的节点分裂和合并操作，从而提高删除的效率。

2. 可能造成大量的页分裂：如果按照主键顺序删除记录，而B+树的叶子节点的物理存储是按照主键的顺序排列的，那么删除操作会导致大量的页分裂，即原本在同一个页上的记录被删除后，新的记录会被分配到新的页上，从而增加了存储的空间和IO开销。

3. 可能产生碎片：由于按照主键顺序删除记录，删除的记录会留下大量的空洞，即删除了数据但是没有填充，这样会造成B+树索引的碎片化，降低了查询和插入操作的效率。

综上所述，按照主键顺序删除记录对B+树索引会带来一些影响，删除操作效率可能提高，但也会增加页分裂和碎片化的问题。

[MySQL记录删除后竟能按中间被删除的主键加回去，磁盘空间被重用！——底层揭秘MySQL行格式记录头信息_砖业洋__的博客-CSDN博客](https://blog.csdn.net/qq_34115899/article/details/117903464)

随机删除不会，因为页里面存储的行数是有序的。

删除会被重用，尤其是删除的整个页空间。

因此，删除的时候最好通过手段记录一页大概存了多少条数据。
